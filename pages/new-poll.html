<link rel="import" href="../components/polymer/polymer.html">

<link rel="import" href="../components/core-icons/core-icons.html">
<link rel="import" href="../components/core-toolbar/core-toolbar.html">

<link rel="import" href="../components/paper-item/paper-item.html">
<link rel="import" href="../components/paper-icon-button/paper-icon-button.html">

<!-- Custom Components -->
<link rel="import" href="../features/action-block.html">
<link rel="import" href="../features/poll-form.html">


<polymer-element name="new-poll">
  <template>
    <style>
    core-toolbar {
      color: #f1f1f1;
      fill: #f1f1f1;
    }
    </style>


  <core-toolbar class="tall" style="background: #4285f4;">
    <paper-item icon="explore" label="Pollster" class="bottom" flex></paper-item>
    <paper-icon-button icon="refresh" class="bottom"></paper-icon-button>
    <paper-icon-button icon="add" class="bottom"></paper-icon-button>
  </core-toolbar>

  <action-block icon="arrow-forward" action="{{showForm}}">
    <span class="header">Create a new poll</span>
    <span>Start collecting results in just a few seconds</span>
  </action-block>

  <poll-form show="false"></poll-form>

  </template>
  <script>
  Polymer({
    showForm: function() {
      console.log('event showing');
    }
  });
    // window.addEventListener('polymer-ready', function(e) {
      // });
      // var showPoll = document.querySelector('action-block');
      // var pollForm = document.querySelector('poll-form');

      // showPoll.addEventListener('show-poll-form', function(e) {
      //   console.log('showing poll externally');
      //   pollForm.toggleShow();
      //   showPoll.hidden = true;
      // });
    // Wait for 'polymer-ready'. Ensures the element is upgraded.
    //   var ajax = document.querySelector('core-ajax');

    //   // Respond to events it fires.
    //   ajax.addEventListener('core-response', function(e) {
    //     data = this.response;
    //     console.log(this.response);
    //   });

    //   ajax.go(); // Call its API methods.
    // });
  </script>
</polymer-element>
